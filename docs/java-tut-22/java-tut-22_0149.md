# 捕获或指定要求

> 原文：[`docs.oracle.com/javase/tutorial/essential/exceptions/catchOrDeclare.html`](https://docs.oracle.com/javase/tutorial/essential/exceptions/catchOrDeclare.html)

有效的 Java 编程语言代码必须遵守*捕获或指定要求*。这意味着可能引发某些异常的代码必须被以下之一包围：

+   一个捕获异常的`try`语句。`try`必须提供异常处理程序，如 Catching and Handling Exceptions 中所述。

+   指定可能引发异常的方法。该方法必须提供列出异常的`throws`子句，如 Specifying the Exceptions Thrown by a Method 中所述。

未遵守捕获或指定要求的代码将无法编译。

并非所有异常都受捕获或指定要求的约束。要理解原因，我们需要看一下三种基本类别的异常，其中只有一种受到该要求的约束。

## 三种异常类型

第一种异常是*受检异常*。这些是一个良好编写的应用程序应该预料并从中恢复的异常情况。例如，假设一个应用程序提示用户输入文件名，然后通过将名称传递给`java.io.FileReader`的构造函数来打开文件。通常，用户提供现有的可读文件的名称，因此`FileReader`对象的构造成功，应用程序的执行正常进行。但有时用户提供不存在文件的名称，构造函数会抛出`java.io.FileNotFoundException`。一个良好编写的程序将捕获此异常并通知用户错误，可能提示更正的文件名。

*受检异常*受到捕获或指定要求的约束。所有异常都是受检异常，除了由`Error`、`RuntimeException`及其子类指示的异常。

第二种异常是*错误*。这些是应用程序外部的异常情况，应用程序通常无法预料或从中恢复。例如，假设一个应用程序成功打开一个输入文件，但由于硬件或系统故障无法读取文件。读取失败将抛出`java.io.IOError`。应用程序可能选择捕获此异常，以通知用户问题，但程序打印堆栈跟踪并退出也是有道理的。

错误*不受*捕获或指定要求的约束。错误是由`Error`及其子类指示的异常。

第三种异常是*运行时异常*。这些是应用程序内部的异常情况，应用程序通常无法预料或恢复。这通常表示编程错误，如逻辑错误或不正确使用 API。例如，考虑先前描述的应用程序将文件名传递给`FileReader`构造函数。如果逻辑错误导致将`null`传递给构造函数，则构造函数将抛出`NullPointerException`。应用程序可以捕获此异常，但更有意义的是消除导致异常发生的错误。

运行时异常*不受*捕获或指定要求的约束。运行时异常是由`RuntimeException`及其子类指示的异常。

错误和运行时异常统称为*未经检查的异常*。

## 绕过捕获或指定

一些程序员认为捕获或指定要求是异常机制中的一个严重缺陷，并通过在需要检查的异常位置使用未经检查的异常来绕过它。一般来说，这是不推荐的。章节未经检查的异常 - 争议讨论了何时适合使用未经检查的异常。
