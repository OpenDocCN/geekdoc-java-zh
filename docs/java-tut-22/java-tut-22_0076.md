# 类型注解和可插拔类型系统

> 原文：[`docs.oracle.com/javase/tutorial/java/annotations/type_annotations.html`](https://docs.oracle.com/javase/tutorial/java/annotations/type_annotations.html)

在 Java SE 8 发布之前，注解只能应用于声明。从 Java SE 8 发布开始，注解也可以应用于任何*类型使用*。这意味着注解可以在使用类型的任何地方使用。一些类型使用的示例包括类实例创建表达式（`new`）、强制转换、`implements`子句和`throws`子句。这种形式的注解称为*类型注解*，注解基础知识提供了几个示例。

类型注解是为了支持改进 Java 程序的分析方式以确保更强的类型检查而创建的。Java SE 8 发布没有提供类型检查框架，但允许您编写（或下载）一个作为一个或多个可插拔模块实现的类型检查框架，这些模块与 Java 编译器一起使用。

例如，您希望确保程序中的特定变量永远不会被赋予 null；您希望避免触发`NullPointerException`。您可以编写一个自定义插件来检查这一点。然后，您将修改代码以注释该特定变量，指示它永远不会被赋予 null。变量声明可能如下所示：

```java
@NonNull String str;

```

当您在命令行中编译代码时，包括`NonNull`模块，如果编译器检测到潜在问题，它会打印警告，让您修改代码以避免错误。在您纠正代码以消除所有警告后，当程序运行时，这种特定错误将不会发生。

您可以使用多个类型检查模块，每个模块检查不同类型的错误。通过这种方式，您可以在需要时在 Java 类型系统的基础上构建，添加特定的检查。

通过谨慎使用类型注解和存在可插拔类型检查器，您可以编写更强大且更不容易出错的代码。

在许多情况下，您不必编写自己的类型检查模块。有第三方已经为您完成了这项工作。例如，您可能希望利用华盛顿大学创建的检查器框架。该框架包括一个`NonNull`模块，以及一个正则表达式模块和一个互斥锁模块。更多信息，请参阅[检查器框架](http://types.cs.washington.edu/checker-framework/)。
