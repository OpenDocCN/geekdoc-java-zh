# 课程：签署代码并授予权限

> 原文：[`docs.oracle.com/javase/tutorial/security/toolsign/index.html`](https://docs.oracle.com/javase/tutorial/security/toolsign/index.html)

本课程展示如何使用`keytool`、`jarsigner`、`策略工具`和`jar`将文件放入 JAR（Java ARchive）文件，以便后续由`jarsigner`工具进行签名。

本课程分为两部分。首先，您将创建和部署一个应用程序。其次，您将作为签名应用程序的接收者。

以下是创建和部署应用程序的步骤：

**注意：** 为方便起见，您假装是一个名为 Susan Jones 的用户/开发者。您需要在生成密钥时定义 Susan Jones。

+   将包含应用程序的 Java 类文件放入 JAR 文件中

+   对 JAR 文件进行签名

+   导出与用于签署 JAR 文件的私钥对应的公钥证书

以下是向应用程序授予权限的步骤

**注意：** 为方便起见，您假装是一个名为 Ray 的用户。

+   您可以看到，当在安全管理器下运行时，签名应用程序通常无法读取文件。

+   使用`keytool`将证书导入 Ray 的密钥库中，别名为`susan`

+   使用策略工具在 Ray 的策略文件中创建一个条目，以允许由`susan`签名的代码读取指定文件。

+   最后，您将看到在安全管理器下运行的应用程序现在可以读取文件，因为已经被授予了相应的权限。

有关数字签名、证书、密钥库和工具的更多信息，请参阅用于安全代码和文件交换的 API 和工具使用课程。

* * *

**重要：** 您需要在存储示例应用程序的目录中执行本课程中的任务，但应将应用程序所需的数据文件存储在不同的目录中。本教程中的所有示例都假定您正在`C:\Test`目录中工作，并且数据文件位于`C:\TestData`目录中。

如果您在 UNIX 系统上工作，请用您自己的目录名称替换。

* * *

以下是步骤：

+   代码签署者的步骤

+   代码接收者的步骤
