- en: How to Use File Choosers
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何使用文件选择器
- en: 原文：[https://docs.oracle.com/javase/tutorial/uiswing/components/filechooser.html](https://docs.oracle.com/javase/tutorial/uiswing/components/filechooser.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://docs.oracle.com/javase/tutorial/uiswing/components/filechooser.html](https://docs.oracle.com/javase/tutorial/uiswing/components/filechooser.html)
- en: File choosers provide a GUI for navigating the file system, and then either
    choosing a file or directory from a list, or entering the name of a file or directory.
    To display a file chooser, you usually use the `JFileChooser` API to show a modal
    [dialog](dialog.html) containing the file chooser. Another way to present a file
    chooser is to add an instance of [`JFileChooser`](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html)
    to a container.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 文件选择器提供了一个用于浏览文件系统的GUI，然后从列表中选择文件或目录，或输入文件或目录的名称。要显示文件选择器，通常使用`JFileChooser`
    API显示包含文件选择器的模态[对话框](dialog.html)。另一种呈现文件选择器的方法是将[`JFileChooser`](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html)的实例添加到容器中。
- en: '* * *'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: '**Note:**'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: '**注意：**'
- en: "If you intend to distribute your program as a sandbox Java Web Start application,\
    \ then instead of using the `JFileChooser` API you should use the file services\
    \ provided by the JNLP API. These services \x97 `FileOpenService` and `FileSaveService`\
    \ \x97 not only provide support for choosing files in a restricted environment,\
    \ but also take care of actually opening and saving them. An example of using\
    \ these services is in [JWSFileChooserDemo](../examples/components/index.html#JWSFileChooserDemo).\
    \ Documentation for using the JNLP API can be found in the [Java Web Start](../../deployment/webstart/index.html)\
    \ lesson."
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: "如果您打算将程序作为沙箱Java Web Start应用程序进行分发，则应使用JNLP API提供的文件服务，而不是使用`JFileChooser`\
    \ API。这些服务 \x97 `FileOpenService` 和 `FileSaveService` \x97 不仅提供了在受限环境中选择文件的支持，还负责实际打开和保存文件。使用这些服务的示例在[JWSFileChooserDemo](../examples/components/index.html#JWSFileChooserDemo)中。有关使用JNLP\
    \ API的文档可以在[Java Web Start](../../deployment/webstart/index.html)课程��找到。"
- en: '* * *'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: Click the Launch button to run JWSFileChooserDemo using [Java™ Web Start](http://www.oracle.com/technetwork/java/javase/javawebstart/index.html)
    ([download JDK 7 or later](http://www.oracle.com/technetwork/java/javase/downloads/index.html)).
    Alternatively, to compile and run the example yourself, consult the [example index](../examples/components/index.html#JWSFileChooserDemo).
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 单击“启动”按钮以使用[Java™ Web Start](http://www.oracle.com/technetwork/java/javase/javawebstart/index.html)运行JWSFileChooserDemo（[下载
    JDK 7 或更高版本](http://www.oracle.com/technetwork/java/javase/downloads/index.html)）。或者，要自行编译和运行示例，请参考[示例索引](../examples/components/index.html#JWSFileChooserDemo)。
- en: '[![Launches the JWSFileChooserDemo application](../Images/4707a69a17729d71c56b2bdbbb4cc61c.png)](https://docs.oracle.com/javase/tutorialJWS/samples/uiswing/JWSFileChooserDemoProject/JWSFileChooserDemo.jnlp)'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '[![启动JWSFileChooserDemo应用程序](../Images/4707a69a17729d71c56b2bdbbb4cc61c.png)](https://docs.oracle.com/javase/tutorialJWS/samples/uiswing/JWSFileChooserDemoProject/JWSFileChooserDemo.jnlp)'
- en: When working with the `JWSFileChooserDemo` example, be careful not to lose files
    that you need. Whenever you click the save button and select an existing file,
    this demo brings up the File Exists dialog box with a request to replace the file.
    Accepting the request overwrites the file.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 在使用`JWSFileChooserDemo`示例时，请注意不要丢失所需的文件。每当单击保存按钮并选择现有文件时，此演示会弹出“文件已存在”对话框，并要求替换文件。接受请求会覆盖文件。
- en: The rest of this section discusses how to use the `JFileChooser` API. A `JFileChooser`
    object only presents the GUI for choosing files. Your program is responsible for
    doing something with the chosen file, such as opening or saving it. Refer to [Basic
    I/O](../../essential/io/index.html) for information on how to read and write files.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 本节的其余部分讨论如何使用`JFileChooser` API。`JFileChooser`对象仅呈现用于选择文件的GUI。您的程序负责处理所选文件，例如打开或保存文件。请参考[基本I/O](../../essential/io/index.html)获取有关如何读取和写入文件的信息。
- en: 'The `JFileChooser` API makes it easy to bring up open and save dialogs. The
    type of look and feel determines what these standard dialogs look like and how
    they differ. In the Java look and feel, the save dialog looks the same as the
    open dialog, except for the title on the dialog''s window and the text on the
    button that approves the operation. Here is a picture of a standard open dialog
    in the Java look and feel:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '`JFileChooser` API使打开和保存对话框变得简单。外观和感觉的类型决定了这些标准对话框的外观以及它们的区别。在Java外观和感觉中，保存对话框看起来与打开对话框相同，除了对话框窗口上的标题和批准操作的按钮上的文本不同。这是Java外观和感觉中标准打开对话框的图片：'
- en: '![A standard open dialog shown in the Java look and feel](../Images/5f1cb1e3359acd1d7288989b5a9fc4c7.png)'
  id: totrans-12
  prefs: []
  type: TYPE_IMG
  zh: '![Java外观中显示的标准打开对话框](../Images/5f1cb1e3359acd1d7288989b5a9fc4c7.png)'
- en: Here is a picture of an application called `FileChooserDemo` that brings up
    an open dialog and a save dialog.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个名为`FileChooserDemo`的应用程序的图片，它会弹出一个打开对话框和一个保存对话框。
- en: '![A program that brings up an open or save dialog](../Images/75d9b010128cbcd56fbb4804d0da89d0.png)'
  id: totrans-14
  prefs: []
  type: TYPE_IMG
  zh: '![弹出打开或保存对话框的程序](../Images/75d9b010128cbcd56fbb4804d0da89d0.png)'
- en: '* * *'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: '**Try this:**'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: '**试一试：**'
- en: Compile and run the example, consult the [example index](../examples/components/index.html#FileChooserDemo).
  id: totrans-17
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 编译并运行示例，参考[示例索引](../examples/components/index.html#FileChooserDemo)。
- en: Click the Open a File button. Navigate around the file chooser, choose a file,
    and click the dialog's Open button.
  id: totrans-18
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“打开文件”按钮。在文件选择器中浏览，选择一个文件，然后点击对话框的“打开”按钮。
- en: Use the Save a File button to bring up a save dialog. Try to use all of the
    controls on the file chooser.
  id: totrans-19
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用“保存文件”按钮来弹出保存对话框。尝试使用文件选择器上的所有控件。
- en: In the source file [`FileChooserDemo.java`](../examples/components/FileChooserDemoProject/src/components/FileChooserDemo.java),
    change the file selection mode to directories-only mode. (Search for `DIRECTORIES_ONLY`
    and uncomment the line that contains it.) Then compile and run the example again.
    You will only be able to see and select directories, not ordinary files.
  id: totrans-20
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在源文件[`FileChooserDemo.java`](../examples/components/FileChooserDemoProject/src/components/FileChooserDemo.java)中，将文件选择模式更改为仅目录模式。（搜索`DIRECTORIES_ONLY`并取消注释包含它的行。）然后重新编译并运行示例。您只能看到并选择目录，而不能选择普通文件。
- en: '* * *'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: 'Bringing up a standard open dialog requires only two lines of code:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 弹出标准打开对话框只需要两行代码：
- en: '[PRE0]'
  id: totrans-23
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: The argument to the `showOpenDialog` method specifies the parent component for
    the dialog. The parent component affects the position of the dialog and the frame
    that the dialog depends on. For example, the Java look and feel places the dialog
    directly over the parent component. If the parent component is in a frame, then
    the dialog is dependent on that frame. This dialog disappears when the frame is
    minimized and reappears when the frame is maximized.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: '`showOpenDialog`方法的参数指定对话框的父组件。父组件影响对话框的位置以及对话框所依赖的框架。例如，Java外观将对话框直接放在父组件上。如果父组件在一个框架中，则对话框依赖于该框架。当框架最小化时，此对话框消失，当框架最大化时重新出现。'
- en: By default, a file chooser that has not been shown before displays all files
    in the user's home directory. You can specify the file chooser's initial directory
    by using one of `JFileChooser`'s other constructors, or you can set the directory
    with the `setCurrentDirectory` method.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，之前未显示过的文件选择器会显示用户主目录中的所有文件。您可以使用`JFileChooser`的其他构造函数之一指定文件选择器的初始目录，或者可以使用`setCurrentDirectory`方法设置目录。
- en: 'The call to `showOpenDialog` appears in the `actionPerformed` method of the
    Open a File button''s action listener:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 调用`showOpenDialog`出现在“打开文件”按钮的动作监听器的`actionPerformed`方法中：
- en: '[PRE1]'
  id: totrans-27
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: The `show*Xxx*Dialog` methods return an integer that indicates whether the user
    selected a file. Depending on how you use a file chooser, it is often sufficient
    to check whether the return value is `APPROVE_OPTION` and then not to change any
    other value. To get the chosen file (or directory, if you set up the file chooser
    to allow directory selections), call the `getSelectedFile` method on the file
    chooser. This method returns an instance of [`File`](https://docs.oracle.com/javase/8/docs/api/java/io/File.html).
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: '`show*Xxx*Dialog`方法返回一个整数，指示用户是否选择了文件。根据文件选择器的使用方式，通常只需检查返回值是否为`APPROVE_OPTION`，然后不更改任何其他值。要获取所选文件（或目录，如果设置文件选择器以允许选择目录），请在文件选择器上调用`getSelectedFile`方法。此方法返回一个[`File`](https://docs.oracle.com/javase/8/docs/api/java/io/File.html)的实例。'
- en: The example obtains the name of the file and uses it in the log message. You
    can call other methods on the `File` object, such as `getPath`, `isDirectory`,
    or `exists` to obtain information about the file. You can also call other methods
    such as `delete` and `rename` to change the file in some way. Of course, you might
    also want to open or save the file by using one of the reader or writer classes
    provided by the Java platform. See [Basic I/O](../../essential/io/index.html)
    for information about using readers and writers to read and write data to the
    file system.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 该示例获取文件的名称并在日志消息中使用。你可以在`File`对象上调用其他方法，比如`getPath`、`isDirectory`或`exists`来获取有关文件的信息。你也可以调用其他方法，比如`delete`和`rename`来以某种方式更改文件。当然，你可能还想通过使用
    Java 平台提供的读取器或写入器类之一来打开或保存文件。有关使用读取器和写入器将数据读取和写入文件系统的信息，请参阅[基本 I/O](../../essential/io/index.html)。
- en: 'The example program uses the same instance of the `JFileChooser` class to display
    a standard save dialog. This time the program calls `showSaveDialog`:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 示例程序使用相同的`JFileChooser`类实例来显示标准保存对话框。这次程序调用`showSaveDialog`：
- en: '[PRE2]'
  id: totrans-31
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'By using the same file chooser instance to display its open and save dialogs,
    the program reaps the following benefits:'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 通过使用相同的文件选择器实例来显示其打开和保存对话框，程序获得以下好处：
- en: The chooser remembers the current directory between uses, so the open and save
    versions automatically share the same current directory.
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 选择器在使用之间记住当前目录，因此打开和保存版本会自动共享相同的当前目录。
- en: You have to customize only one file chooser, and the customizations apply to
    both the open and save versions.
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你只需自定义一个文件选择器，自定义将应用于打开和保存版本。
- en: 'Finally, the example program has commented-out lines of code that let you change
    the file selection mode. For example, the following line of code makes the file
    chooser able to select only directories, and not files:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，示例程序中有被注释掉的代码行，让你可以更改文件选择模式。例如，以下代码行使文件选择器只能选择目录，而不能选择文件：
- en: '[PRE3]'
  id: totrans-36
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: "Another possible selection mode is `FILES_AND_DIRECTORIES`. The default is\
    \ `FILES_ONLY`. The following picture shows an open dialog with the file selection\
    \ mode set to `DIRECTORIES_ONLY`. Note that, in the Java look and feel at least,\
    \ only directories are visible \x97 not files."
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 另一种可能的选择模式是`FILES_AND_DIRECTORIES`。默认值是`FILES_ONLY`。以下图片显示了一个打开对话框，文件选择模式设置为`DIRECTORIES_ONLY`。请注意，至少在
    Java 外观中，只有目录可见，而不是文件。
- en: '![A file chooser in DIRECTORIES_ONLY mode](../Images/66f928a403b9a25d57730f46cce06c66.png)'
  id: totrans-38
  prefs: []
  type: TYPE_IMG
  zh: '![DIRECTORIES_ONLY 模式下的文件选择器](../Images/66f928a403b9a25d57730f46cce06c66.png)'
- en: 'If you want to create a file chooser for a task other than opening or saving,
    or if you want to customize the file chooser, keep reading. We will discuss the
    following topics:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你想为除了打开或保存之外的任务创建一个文件选择器，或者想要自定义文件选择器，请继续阅读。我们将讨论以下主题：
- en: '[Another Example: FileChooserDemo2](#advancedexample)'
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[另一个示例：FileChooserDemo2](#advancedexample)'
- en: '[Using a File Chooser for a Custom Task](#customtask)'
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[为自定义任务使用文件选择器](#customtask)'
- en: '[Filtering the List of Files](#filters)'
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[过滤文件列表](#filters)'
- en: '[Customizing the File View](#fileview)'
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[自定义文件视图](#fileview)'
- en: '[Providing an Accessory Component](#accessory)'
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[提供附件组件](#accessory)'
- en: '[The File Chooser API](#api)'
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[文件选择器 API](#api)'
- en: '[Examples that Use File Choosers](#eg)'
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[使用文件选择器的示例](#eg)'
- en: 'Another Example: FileChooserDemo2'
  id: totrans-47
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另一个示例：FileChooserDemo2
- en: 'Let us look at [`FileChooserDemo2`](../examples/components/index.html#FileChooserDemo2)
    example, a modified version of the previous demo program that uses more of the
    `JFileChooser` API. This example uses a file chooser that has been customized
    in several ways. Like the original example, the user invokes a file chooser with
    the push of a button. Here is a picture of the file chooser:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看[`FileChooserDemo2`](../examples/components/index.html#FileChooserDemo2)示例，这是前一个演示程序的修改版本，使用了更多的`JFileChooser`API。该示例使用了多种方式自定义的文件选择器。与原始示例���样，用户通过按下按钮调用文件选择器。这是文件选择器的图片：
- en: '![A file chooser with various customizations](../Images/b887b852632c9c8827843f50c9aa157a.png)'
  id: totrans-49
  prefs: []
  type: TYPE_IMG
  zh: '![带有各种自定义的文件选择器](../Images/b887b852632c9c8827843f50c9aa157a.png)'
- en: As the figure shows, this file chooser has been customized for a special task
    (Attach), provides a user-choosable file filter (Just Images), uses a special
    file view for image files, and has an accessory component that displays a thumbnail
    sketch of the currently selected image file.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 如图所示，此文件选择器已经为一个特殊任务（附件）进行了定制，提供了一个用户可选择的文件过滤器（仅图像），对图像文件使用了特殊的文件视图，并具有一个附件组件，显示当前选定图像文件的缩略图。
- en: The remainder of this section shows you the code that creates and customizes
    this file chooser. See the [example index](../examples/components/index.html#FileChooserDemo2)
    for links to all the files required by this example.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 本节的其余部分向您展示了创建和自定义此文件选择器的代码。请参阅[示例索引](../examples/components/index.html#FileChooserDemo2)以获取此示例所需的所有文件的链接。
- en: Using a File Chooser for a Custom Task
  id: totrans-52
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用文件选择器执行自定义任务
- en: As you have seen, the `JFileChooser` class provides the `showOpenDialog` method
    for displaying an open dialog and the `showSaveDialog` method for displaying a
    save dialog.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 正如您所见，`JFileChooser`类提供了`showOpenDialog`方法用于显示打开对话框，以及`showSaveDialog`方法用于显示保存对话框。
- en: 'The class has another method, `showDialog`, for displaying a file chooser for
    a custom task in a dialog. In the Java look and feel, the only difference between
    this dialog and the other file chooser dialogs is the title on the dialog window
    and the label on the approve button. Here is the code from `FileChooserDemo2`
    that brings up the file chooser dialog for the Attach task:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 该类还有另一个方法`showDialog`，用于在对话框中显示用于自定义任务的文件选择器。在Java外观中，此对话框与其他文件选择器对话框之间唯一的区别是对话框窗口上的标题和批准按钮上的标签。以下是从`FileChooserDemo2`中调用的代码，用于打开附件任务的文件选择器对话框：
- en: '[PRE4]'
  id: totrans-55
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: The first argument to the `showDialog` method is the parent component for the
    dialog. The second argument is a `String` object that provides both the title
    for the dialog window and the label for the approve button.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: '`showDialog`方法的第一个参数是对话框的父组件。第二个参数是一个`String`对象，提供对话框窗口的标题和批准按钮的标签。'
- en: Once again, the file chooser doesn't do anything with the selected file. The
    program is responsible for implementing the custom task for which the file chooser
    was created.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 再次强调，文件选择器不会对所选文件执行任何操作。程序负责实现文件选择器创建的自定义任务。
- en: Filtering the List of Files
  id: totrans-58
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 过滤文件列表
- en: By default, a file chooser displays all of the files and directories that it
    detects, except for hidden files. A program can apply one or more *file filters*
    to a file chooser so that the chooser shows only some files. The file chooser
    calls the filter's `accept` method for each file to determine whether it should
    be displayed. A file filter accepts or rejects a file based on criteria such as
    file type, size, ownership, and so on. Filters affect the list of files displayed
    by the file chooser. The user can enter the name of any file even if it is not
    displayed.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，文件选择器显示它检测到的所有文件和目录，除了隐藏文件。程序可以向文件选择器应用一个或多个*文件过滤器*，以便选择器仅显示一些文件。文件选择器调用过滤器的`accept`方法来确定是否应显示该文件。文件过滤器根据文件类型、大小、所有权等标准接受或拒绝文件。过滤器影响文件选择器显示的文件列表。用户可以输入任何文件的名称，即使它没有显示。
- en: '`JFileChooser` supports three different kinds of filtering. The filters are
    checked in the order listed here. For example, an application-controlled filter
    sees only those files accepted by the built-in filtering.'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: '`JFileChooser`支持三种不同类型的过滤。这些过滤器按照列出的顺序进行检查。例如，应用程序控制的过滤器只能看到内置过滤器接受的文件。'
- en: '**Built-in filtering**'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: '**内置过滤**'
- en: Filtering is set up through specific method calls on a file chooser. Currently
    the only built-in filter available is for hidden files, such as those whose names
    begin with period (.) on UNIX systems. By default, hidden files are not shown.
    Call `setFileHidingEnabled(false)` to show hidden files.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 通过文件选择器上的特定方法调用来设置过滤。目前，唯一可用的内置过滤器是用于隐藏文件的，例如在UNIX系统上以句点（.）开头的文件。默认情况下，不显示隐藏文件。调用`setFileHidingEnabled(false)`以显示隐藏文件。
- en: '**Application-controlled filtering**'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: '**应用程序控制的过滤**'
- en: The application determines which files are shown. Create a custom subclass of
    [`FileFilter`](https://docs.oracle.com/javase/8/docs/api/javax/swing/filechooser/FileFilter.html),
    instantiate it, and use the instance as an argument to the `setFileFilter` method.
    The installed filter is displayed on the list of user-choosable filters. The file
    chooser shows only those files that the filter accepts.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 应用程序确定显示哪些文件。创建[`FileFilter`](https://docs.oracle.com/javase/8/docs/api/javax/swing/filechooser/FileFilter.html)的自定义子类，实例化它，并将实例用作`setFileFilter`方法的参数。安装的过滤器显示在用户可选择的过滤器列表中。文件选择器仅显示过滤器接受的文件。
- en: '**User-choosable filtering**'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: '**用户可选择的过滤**'
- en: 'The file chooser GUI provides a list of filters that the user can choose from.
    When the user chooses a filter, the file chooser shows only those files accepted
    by that filter. `FileChooserDemo2` adds a custom file filter to the list of user-choosable
    filters:'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 文件选择器 GUI 提供了用户可以选择的过滤器列表。当用户选择一个过滤器时，文件选择器只显示被该过滤器接受的文件。`FileChooserDemo2`
    将一个自定义文件过滤器添加到用户可选择的过滤器列表中：
- en: '[PRE5]'
  id: totrans-67
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'By default, the list of user-choosable filters includes the Accept All filter,
    which enables the user to see all non-hidden files. This example uses the following
    code to disable the Accept All filter:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，用户可选择的过滤器列表包括“接受所有”过滤器，该过滤器使用户可以查看所有非隐藏文件。以下示例使用以下代码禁用“接受所有”过滤器：
- en: '[PRE6]'
  id: totrans-69
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: "Our custom file filter is implemented in [`ImageFilter.java`](../examples/components/FileChooserDemo2Project/src/components/ImageFilter.java)\
    \ and is a subclass of `FileFilter`. The `ImageFilter` class implements the `getDescription`\
    \ method to return \"Just Images\" \x97 a string to put in the list of user-choosable\
    \ filters. `ImageFilter` also implements the `accept` method so that it accepts\
    \ all directories and any file that has a `.png`, `.jpg`, `.jpeg`, `.gif`, `.tif`,\
    \ or `.tiff` filename extension."
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的自定义文件过滤器在 [`ImageFilter.java`](../examples/components/FileChooserDemo2Project/src/components/ImageFilter.java)
    中实现，是 `FileFilter` 的子类。`ImageFilter` 类实现了 `getDescription` 方法，返回“Just Images”——一个要放在用户可选择过滤器列表中的字符串。`ImageFilter`
    还实现了 `accept` 方法，以便接受所有目录和具有 `.png`、`.jpg`、`.jpeg`、`.gif`、`.tif` 或 `.tiff` 文件扩展名的文件。
- en: '[PRE7]'
  id: totrans-71
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: By accepting all directories, this filter allows the user to navigate around
    the file system. If the bold lines were omitted from this method, the user would
    be limited to the directory with which the chooser was initialized.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 通过接受所有目录，此过滤器允许用户在文件系统中导航。如果从此方法中省略了粗体行，则用户将受限于选择器初始化的目录。
- en: 'The preceding code sample uses the `getExtension` method and several string
    constants from [`Utils.java`](../examples/components/FileChooserDemo2Project/src/components/Utils.java),
    shown here:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 前面的代码示例使用了 `getExtension` 方法和几个字符串常量，来自 [`Utils.java`](../examples/components/FileChooserDemo2Project/src/components/Utils.java)，如下所示：
- en: '[PRE8]'
  id: totrans-74
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: Customizing the File View
  id: totrans-75
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 自定义文件视图
- en: In the Java look and feel, the chooser's list shows each file's name and displays
    a small icon that represents whether the file is a true file or a directory. You
    can customize this *file view* by creating a custom subclass of [`FileView`](https://docs.oracle.com/javase/8/docs/api/javax/swing/filechooser/FileView.html)
    and using an instance of the class as an argument to the `setFileView` method.
    The example uses an instance of a custom class, implemented in [`ImageFileView.java`](../examples/components/FileChooserDemo2Project/src/components/ImageFileView.java),
    as the file chooser's file view.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Java 外观中，选择器的列表显示每个文件的名称，并显示一个小图标，表示文件是真实文件还是目录。您可以通过创建 [`FileView`](https://docs.oracle.com/javase/8/docs/api/javax/swing/filechooser/FileView.html)
    的自定义子类并将该类的实例用作 `setFileView` 方法的参数来自定义此*文件视图*。该示例使用一个自定义类的实例，实现在 [`ImageFileView.java`](../examples/components/FileChooserDemo2Project/src/components/ImageFileView.java)
    中，作为文件选择器的文件视图。
- en: '[PRE9]'
  id: totrans-77
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: The `ImageFileView` class shows a different icon for each type of image accepted
    by the image filter described previously.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: '`ImageFileView` 类为先前描述的图像过滤器接受的每种类型的图像显示不同的图标。'
- en: The `ImageFileView` class overrides the five abstract methods defined in the
    `FileView` as follows.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: '`ImageFileView` 类重写了 `FileView` 中定义的五个抽象方法，如下所示。'
- en: '**`String getTypeDescription(File f)`**'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: '**`String getTypeDescription(File f)`**'
- en: 'Returns a description of the file type. Here is `ImageFileView`''s implementation
    of this method:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 返回文件类型的描述。这是 `ImageFileView` 对此方法的实现：
- en: '[PRE10]'
  id: totrans-82
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: '**`Icon getIcon(File f)`**'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: '**`Icon getIcon(File f)`**'
- en: 'Returns an icon representing the file or its type. Here is `ImageFileView`''s
    implementation of this method:'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 返回表示文件或其类型的图标。这是 `ImageFileView` 对此方法的实现：
- en: '[PRE11]'
  id: totrans-85
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: '**`String getName(File f)`**'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: '**`String getName(File f)`**'
- en: Returns the name of the file. Most implementations of this method should return
    `null` to indicate that the look and feel should figure it out. Another common
    implementation returns `f.getName()`.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 返回文件的名称。大多数此方法的实现应返回 `null`，表示外观和感觉应该自行解决。另一个常见的实现返回 `f.getName()`。
- en: '**`String getDescription(File f)`**'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: '**`String getDescription(File f)`**'
- en: Returns a description of the file. The intent is to describe individual files
    more specifically. A common implementation of this method returns `null` to indicate
    that the look and feel should figure it out.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 返回文件的描述。意图是更具体地描述单个文件。此方法的常见实现返回 `null`，表示外观和感觉应该自行解决。
- en: '**`Boolean isTraversable(File f)`**'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: '**`Boolean isTraversable(File f)`**'
- en: Returns whether a directory is traversable. Most implementations of this method
    should return `null` to indicate that the look and feel should figure it out.
    Some applications might want to prevent users from descending into a certain type
    of directory because it represents a compound document. The `isTraversable` method
    should never return `true` for a non-directory.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 返回目录是否可遍历。大多数此方法的实现应返回`null`以指示外观和感觉应该解决这个问题。一些应用程序可能希望阻止用户进入某种类型的目录，因为它代表一个复合文档。`isTraversable`方法永远不应为非目录返回`true`。
- en: Providing an Accessory Component
  id: totrans-92
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 提供一个附件组件
- en: The customized file chooser in `FileChooserDemo2` has an accessory component.
    If the currently selected item is a PNG, JPEG, TIFF, or GIF image, the accessory
    component displays a thumbnail sketch of the image. Otherwise, the accessory component
    is empty. Aside from a previewer, probably the most common use for the accessory
    component is a panel with more controls on it such as check boxes that toggle
    between features.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: '`FileChooserDemo2`中的自定义文件选择器具有一个附件组件。如果当前选择的项目是PNG、JPEG、TIFF或GIF图像，则附件组件显示图像的缩略图草图。否则，附件组件为空。除了预览器，附件组件最常见的用途可能是一个面板，上面有更多控件，如切换功能的复选框。'
- en: 'The example calls the `setAccessory` method to establish an instance of the
    `ImagePreview` class, implemented in [`ImagePreview.java`](../examples/components/FileChooserDemo2Project/src/components/ImagePreview.java),
    as the chooser''s accessory component:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 示例调用`setAccessory`方法来建立`ImagePreview`类的一个实例，实现在[`ImagePreview.java`](../examples/components/FileChooserDemo2Project/src/components/ImagePreview.java)中，作为选择器的附件组件：
- en: '[PRE12]'
  id: totrans-95
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: Any object that inherits from the `JComponent` class can be an accessory component.
    The component should have a preferred size that looks good in the file chooser.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 任何继承自`JComponent`类的对象都可以是附件组件。组件应具有在文件选择器中看起来不错的首选大小。
- en: The file chooser fires a property change event when the user selects an item
    in the list. A program with an accessory component must register to receive these
    events to update the accessory component whenever the selection changes. In the
    example, the `ImagePreview` object itself registers for these events. This keeps
    all the code related to the accessory component together in one class.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 当用户在列表中选择项目时，文件选择器会触发属性更改事件。具有附件组件的程序必须注册以接收这些事件，以便在选择更改时更新附件组件。在示例中，`ImagePreview`对象本身注册了这些事件。这样可以将所有与附件组件相关的代码放在一个类中。
- en: 'Here is the example''s implementation of the `propertyChange` method, which
    is the method called when a property change event is fired:'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 这是示例中`propertyChange`方法的实现，当触发属性更改事件时调用该方法：
- en: '[PRE13]'
  id: totrans-99
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: If `SELECTED_FILE_CHANGED_PROPERTY` is the property that changed, this method
    obtains a `File` object from the file chooser. The `loadImage` and `repaint` methods
    use the `File` object to load the image and repaint the accessory component.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 如果`SELECTED_FILE_CHANGED_PROPERTY`是更改的属性，则此方法从文件选择器获取一个`File`对象。`loadImage`和`repaint`方法使用`File`对象加载图像并重绘附件组件。
- en: The File Chooser API
  id: totrans-101
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 文件选择器API
- en: 'The API for using file choosers falls into these categories:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 使用文件选择器的API分为以下几类：
- en: '[Creating and Showing the File Chooser](#show)'
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[创建和显示文件选择器](#show)'
- en: '[Selecting Files and Directories](#selection)'
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[选择文件和目录](#selection)'
- en: '[Navigating the File Chooser''s List](#navigation)'
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[导航文件选择器的列表](#navigation)'
- en: '[Customizing the File Chooser](#customization)'
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[自定义文件选择器](#customization)'
- en: Creating and Showing the File Chooser
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 创建和显示文件选择器
- en: '| Method or Constructor | Purpose |'
  id: totrans-108
  prefs: []
  type: TYPE_TB
  zh: '| 方法或构造函数 | 目的 |'
- en: '| [JFileChooser()](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#JFileChooser--)
    [JFileChooser(File)](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#JFileChooser-java.io.File-)'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: '| [JFileChooser()](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#JFileChooser--)
    [JFileChooser(File)](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#JFileChooser-java.io.File-)'
- en: '[JFileChooser(String)](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#JFileChooser-java.lang.String-)
    | Creates a file chooser instance. The `File` and `String` arguments, when present,
    provide the initial directory. |'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: '[JFileChooser(String)](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#JFileChooser-java.lang.String-)
    | 创建一个文件选择器实例。当存在`File`和`String`参数时，提供初始目录。 |'
- en: '| [int showOpenDialog(Component)](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#showOpenDialog-java.awt.Component-)
    [int showSaveDialog(Component)](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#showSaveDialog-java.awt.Component-)'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: '| [int showOpenDialog(Component)](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#showOpenDialog-java.awt.Component-)
    [int showSaveDialog(Component)](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#showSaveDialog-java.awt.Component-)'
- en: '[int showDialog(Component, String)](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#showDialog-java.awt.Component-java.lang.String-)
    | Shows a modal dialog containing the file chooser. These methods return `APPROVE_OPTION`
    if the user approved the operation and `CANCEL_OPTION` if the user cancelled it.
    Another possible return value is `ERROR_OPTION`, which means an unanticipated
    error occurred. |'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: '[int showDialog(Component, String)](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#showDialog-java.awt.Component-java.lang.String-)
    | 显示包含文件选择器的模态对话框。如果用户批准操作，则这些方法返回`APPROVE_OPTION`，如果用户取消操作，则返回`CANCEL_OPTION`。另一个可能的返回值是`ERROR_OPTION`，表示发生了意外错误。'
- en: Selecting Files and Directories
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 选择文件和目录
- en: '| Method | Purpose |'
  id: totrans-114
  prefs: []
  type: TYPE_TB
  zh: '| 方法 | 目的 |'
- en: '| [void setSelectedFile(File)](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#setSelectedFile-java.io.File-)
    [File getSelectedFile()](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#getSelectedFile--)
    | Sets or obtains the currently selected file or (if directory selection has been
    enabled) directory. |'
  id: totrans-115
  prefs: []
  type: TYPE_TB
  zh: '| [void setSelectedFile(File)](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#setSelectedFile-java.io.File-)
    [File getSelectedFile()](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#getSelectedFile--)
    | 设置或获取当前选定的文件或（如果启用了目录选择）目录。'
- en: '| [void setSelectedFiles(File[])](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#setSelectedFiles-java.io.File:A-)
    [File[] getSelectedFiles()](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#getSelectedFiles--)
    | Sets or obtains the currently selected files if the file chooser is set to allow
    multiple selection. |'
  id: totrans-116
  prefs: []
  type: TYPE_TB
  zh: '| [void setSelectedFiles(File[])](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#setSelectedFiles-java.io.File:A-)
    [File[] getSelectedFiles()](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#getSelectedFiles--)
    | 设置或获取当前选定的文件（如果文件选择器设置为允许多选）。'
- en: '| [void setFileSelectionMode(int)](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#setFileSelectionMode-int-)
    [void getFileSelectionMode()](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#getFileSelectionMode--)'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: '| [void setFileSelectionMode(int)](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#setFileSelectionMode-int-)
    [void getFileSelectionMode()](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#getFileSelectionMode--)'
- en: '[boolean isDirectorySelectionEnabled()](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#isDirectorySelectionEnabled--)'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: '[boolean isDirectorySelectionEnabled()](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#isDirectorySelectionEnabled--)
    | 检查目录选择是否已启用。'
- en: '[boolean isFileSelectionEnabled()](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#isFileSelectionEnabled--)
    | Sets or obtains the file selection mode. Acceptable values are `FILES_ONLY`
    (the default), `DIRECTORIES_ONLY`, and `FILES_AND_DIRECTORIES`. Interprets whether
    directories or files are selectable according to the current selection mode. |'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: '[boolean isFileSelectionEnabled()](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#isFileSelectionEnabled--)
    | 设置或获取文件选择模式。可接受的值为`FILES_ONLY`（默认值）、`DIRECTORIES_ONLY`和`FILES_AND_DIRECTORIES`。根据当前选择模式解释目录或文件是否可选择。'
- en: '| [void setMultiSelectionEnabled(boolean)](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#setMultiSelectionEnabled-boolean-)
    [boolean isMultiSelectionEnabled()](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#isMultiSelectionEnabled--)
    | Sets or interprets whether multiple files can be selected at once. By default,
    a user can choose only one file. |'
  id: totrans-120
  prefs: []
  type: TYPE_TB
  zh: '| [void setMultiSelectionEnabled(boolean)](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#setMultiSelectionEnabled-boolean-)
    [boolean isMultiSelectionEnabled()](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#isMultiSelectionEnabled--)
    | 设置或解释是否可以一次选择多个文件。默认情况下，用户只能选择一个文件。'
- en: '| [void setAcceptAllFileFilterUsed(boolean)](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#setAcceptAllFileFilterUsed-boolean-)
    [boolean isAcceptAllFileFilterUsed()](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#isAcceptAllFileFilterUsed--)
    | Sets or obtains whether the `AcceptAll` file filter is used as an allowable
    choice in the choosable filter list; the default value is `true`. |'
  id: totrans-121
  prefs: []
  type: TYPE_TB
  zh: '| [void setAcceptAllFileFilterUsed(boolean)](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#setAcceptAllFileFilterUsed-boolean-)
    [boolean isAcceptAllFileFilterUsed()](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#isAcceptAllFileFilterUsed--)
    | 设置或获取是否在可选择的过滤器列表中使用`AcceptAll`文件过滤器作为可接受的选择；默认值为`true`。'
- en: '| [Dialog createDialog(Component)](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#createDialog-java.awt.Component-)
    | Given a parent component, creates and returns a new dialog that contains this
    file chooser, is dependent on the parent''s frame, and is centered over the parent.
    |'
  id: totrans-122
  prefs: []
  type: TYPE_TB
  zh: '| [Dialog createDialog(Component)](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#createDialog-java.awt.Component-)
    | 给定一个父组件，创建并返回一个包含此文件选择器的新对话框，依赖于父窗口的框架，并居中于父窗口。'
- en: Navigating the File Chooser's List
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 导航文件选择器的列表
- en: '| Method | Purpose |'
  id: totrans-124
  prefs: []
  type: TYPE_TB
  zh: '| 方法 | 目的 |'
- en: '| [void ensureFileIsVisible(File)](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#ensureFileIsVisible-java.io.File-)
    | Scrolls the file chooser''s list such that the indicated file is visible. |'
  id: totrans-125
  prefs: []
  type: TYPE_TB
  zh: '| [void ensureFileIsVisible(File)](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#ensureFileIsVisible-java.io.File-)
    | 滚动文件选择器的列表，使指定的文件可见。'
- en: '| [void setCurrentDirectory(File)](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#setCurrentDirectory-java.io.File-)
    [File getCurrentDirectory()](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#getCurrentDirectory--)
    | Sets or obtains the directory whose files are displayed in the file chooser''s
    list. |'
  id: totrans-126
  prefs: []
  type: TYPE_TB
  zh: '| [void setCurrentDirectory(File)](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#setCurrentDirectory-java.io.File-)
    [File getCurrentDirectory()](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#getCurrentDirectory--)
    | 设置或获取在文件选择器的列表中显示的目录。'
- en: '| [void changeToParentDirectory()](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#changeToParentDirectory--)
    | Changes the list to display the current directory''s parent. |'
  id: totrans-127
  prefs: []
  type: TYPE_TB
  zh: '| [void changeToParentDirectory()](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#changeToParentDirectory--)
    | 将列表更改为显示当前目录的父目录。'
- en: '| [void rescanCurrentDirectory()](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#rescanCurrentDirectory--)
    | Checks the file system and updates the chooser''s list. |'
  id: totrans-128
  prefs: []
  type: TYPE_TB
  zh: '| [void rescanCurrentDirectory()](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#rescanCurrentDirectory--)
    | 检查文件系统并更新选择器的列表。'
- en: '| [void setDragEnabled(boolean)](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#setDragEnabled-boolean-)
    [boolean getDragEnabled()](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#getDragEnabled--)
    | Sets or obtains the property that determines whether automatic drag handling
    is enabled. See [Drag and Drop and Data Transfer](../dnd/index.html) for more
    details. |'
  id: totrans-129
  prefs: []
  type: TYPE_TB
  zh: '| [void setDragEnabled(boolean)](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#setDragEnabled-boolean-)
    [boolean getDragEnabled()](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#getDragEnabled--)
    | 设置或获取确定是否启用自动拖放处理的属性。有关更多详细信息，请参阅[拖放和数据传输](../dnd/index.html)。'
- en: Customizing the File Chooser
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 自定义文件选择器
- en: '| Method | Purpose |'
  id: totrans-131
  prefs: []
  type: TYPE_TB
  zh: '| 方法 | 目的 |'
- en: '| [void setAccessory(javax.swing.JComponent)](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#setAccessory-javax.swing.JComponent-)
    [JComponent getAccessory()](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#getAccessory--)
    | Sets or obtains the file chooser''s accessory component. |'
  id: totrans-132
  prefs: []
  type: TYPE_TB
  zh: '| [void setAccessory(javax.swing.JComponent)](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#setAccessory-javax.swing.JComponent-)
    [JComponent getAccessory()](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#getAccessory--)
    | 设置或获取��件选择器的附件组件。'
- en: '| [void setFileFilter(FileFilter)](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#setFileFilter-javax.swing.filechooser.FileFilter-)
    [FileFilter getFileFilter()](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#getFileFilter--)
    | Sets or obtains the file chooser''s primary file filter. |'
  id: totrans-133
  prefs: []
  type: TYPE_TB
  zh: '| [void setFileFilter(FileFilter)](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#setFileFilter-javax.swing.filechooser.FileFilter-)
    [FileFilter getFileFilter()](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#getFileFilter--)
    | 设置或获取文件选择器的主要文件过滤器。'
- en: '| [void setFileView(FileView)](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#setFileView-javax.swing.filechooser.FileView-)
    [FileView getFileView()](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#getFileView--)
    | Sets or obtains the chooser''s file view. |'
  id: totrans-134
  prefs: []
  type: TYPE_TB
  zh: '| [void setFileView(FileView)](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#setFileView-javax.swing.filechooser.FileView-)
    [FileView getFileView()](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#getFileView--)
    | 设置或获取选择器的文件视图。 |'
- en: '| [FileFilter[] getChoosableFileFilters()](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#getChoosableFileFilters--)
    [void addChoosableFileFilter(FileFilter)](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#addChoosableFileFilter-javax.swing.filechooser.FileFilter-)'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: '| [FileFilter[] getChoosableFileFilters()](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#getChoosableFileFilters--)
    [void addChoosableFileFilter(FileFilter)](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#addChoosableFileFilter-javax.swing.filechooser.FileFilter-)
    | 设置、获取或修改可供用户选择的文件过滤器列表。 |'
- en: '[boolean removeChoosableFileFilter(FileFilter)](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#removeChoosableFileFilter-javax.swing.filechooser.FileFilter-)'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: '[boolean removeChoosableFileFilter(FileFilter)](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#removeChoosableFileFilter-javax.swing.filechooser.FileFilter-)'
- en: '[void resetChoosableFileFilters()](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#resetChoosableFileFilters--)'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: '[void resetChoosableFileFilters()](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#resetChoosableFileFilters--)'
- en: '[FileFilter getAcceptAllFileFilter()](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#getAcceptAllFileFilter--)
    | Sets, obtains, or modifies the list of user-choosable file filters. |'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: '[FileFilter getAcceptAllFileFilter()](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#getAcceptAllFileFilter--)
    | 设置、获取或修改用户可选择的文件过滤器列表。 |'
- en: '| [void setFileHidingEnabled(boolean)](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#setFileHidingEnabled-boolean-)
    [boolean isFileHidingEnabled()](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#isFileHidingEnabled--)
    | Sets or obtains whether hidden files are displayed. |'
  id: totrans-139
  prefs: []
  type: TYPE_TB
  zh: '| [void setFileHidingEnabled(boolean)](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#setFileHidingEnabled-boolean-)
    [boolean isFileHidingEnabled()](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#isFileHidingEnabled--)
    | 设置或获取是否显示隐藏文件。 |'
- en: '| [void setControlButtonsAreShown(boolean)](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#setControlButtonsAreShown-boolean-)
    [boolean getControlButtonsAreShown()](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#getControlButtonsAreShown--)
    | Sets or obtains the property that indicates whether the Approve and Cancel buttons
    are shown in the file chooser. This property is true by default. |'
  id: totrans-140
  prefs: []
  type: TYPE_TB
  zh: '| [void setControlButtonsAreShown(boolean)](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#setControlButtonsAreShown-boolean-)
    [boolean getControlButtonsAreShown()](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html#getControlButtonsAreShown--)
    | 设置或获取指示文件选择器中是否显示“批准”和“取消”按钮的属性。默认情况下，此属性为true。 |'
- en: Examples That Use File Choosers
  id: totrans-141
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用文件选择器的示例
- en: This table shows the examples that use file choosers and points to where those
    examples are described.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 这个表格展示了使用文件选择器的示例，并指向这些示例所描述的位置。
- en: '| Example | Where Described | Notes |'
  id: totrans-143
  prefs: []
  type: TYPE_TB
  zh: '| 示例 | 描述位置 | 注释 |'
- en: '| [`FileChooserDemo`](../examples/components/index.html#FileChooserDemo) |
    This section | Displays an open dialog and a save dialog. |'
  id: totrans-144
  prefs: []
  type: TYPE_TB
  zh: '| [`FileChooserDemo`](../examples/components/index.html#FileChooserDemo) |
    这一部分 | 显示一个打开对话框和一个保存对话框。 |'
- en: '| [`FileChooserDemo2`](../examples/components/index.html#FileChooserDemo2)
    | This section | Uses a file chooser with custom filtering, a custom file view,
    and an accessory component. |'
  id: totrans-145
  prefs: []
  type: TYPE_TB
  zh: '| [`FileChooserDemo2`](../examples/components/index.html#FileChooserDemo2)
    | 这一部分 | 使用具有自定义过滤、自定义文件视图和附件组件的文件选择器。 |'
- en: '| [`JWSFileChooserDemo`](../examples/components/index.html#JWSFileChooserDemo)
    | This section | Uses the JNLP API to open and save files. |'
  id: totrans-146
  prefs: []
  type: TYPE_TB
  zh: '| [`JWSFileChooserDemo`](../examples/components/index.html#JWSFileChooserDemo)
    | 这一部分 | 使用JNLP API来打开和保存文件。 |'
